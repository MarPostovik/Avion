import"./SearchModal-f36a9c89.js";import"./addingToCart-3ffcca3f.js";let v=document.getElementById("gamburger-menu-icon"),q=document.querySelector(".bottom-line-nav"),p=document.querySelector("nav");v.addEventListener("click",()=>{q.style.display==="flex"?(q.style.display="none",p.classList.add("animate__fadeOutLeft"),setTimeout(()=>{p.classList.remove("active"),p.classList.remove("animate__fadeOutLeft")},500),p.classList.remove("animate__fadeInLeft"),v.innerHTML=`<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16" fill="none">
                          <path d="M14 3H2V4H14V3Z" fill="#2A254B"/>
                          <path d="M14 12H2V13H14V12Z" fill="#2A254B"/>
                          <path d="M14 6H2V7H14V6Z" fill="#2A254B"/>
                          <path d="M14 9H2V10H14V9Z" fill="#2A254B"/>
                        </svg>`):(q.style.display="flex",p.classList.add("active"),p.classList.add("animate__fadeInLeft"),v.innerHTML='<ion-icon name="close-outline" class="close-nav"></ion-icon>')});document.addEventListener("DOMContentLoaded",function(){let t=document.getElementsByClassName("link-item");for(let o=0;o<t.length;o++){let c=t[o];c.addEventListener("click",function(n){let a=c.getAttribute("data-category"),i=c.getAttribute("data-sort");if(a!=null){let l=c.getAttribute("href")+"?category="+encodeURIComponent(a);window.location.href=l,n.preventDefault()}else if(i!=null){let l=c.getAttribute("href")+"?sortOption="+encodeURIComponent(i);window.location.href=l,n.preventDefault()}})}});document.addEventListener("DOMContentLoaded",function(){const t=document.querySelector(".products-added-to-cart"),o=document.getElementById("total-price"),c=document.querySelectorAll(".cart-count");let n=JSON.parse(localStorage.getItem("cart"))||[];function a(){t&&(t.innerHTML="");const l=document.getElementById("checkout-btn");n.length===0&&(l.setAttribute("disabled",""),l.style.background="rgb(174 172 172)");let r=0;n.forEach((e,h)=>{const d=document.createElement("div");d.classList.add("product-item"),d.innerHTML=`
                   <div class="product-photo-in-cart">
                     <img src="${e.photo}" alt="product">
                   </div>
                   <div class="product-text">
                       <p class="product-name">${e.title}</p>
                       <p class="product-desc">${e.description}</p>
                       <p class="product-price">£<span>${e.price}</span></p>
                  </div>
                   <div class="product-quantity">
                    <span class="value">${e.quantity}</span>
                    <button class="remove-quantity">-</button>
                    <button class="add-quantity">+</button>
                  </div>
                  <p class="product-price-right">£<span>${e.wholePrice}</span></p>
                 
                  `;const L=d.querySelector(".add-quantity"),g=d.querySelector(".remove-quantity");L.addEventListener("click",function(){e.quantity=e.quantity+1,e.wholePrice=e.quantity*e.price,i(),a(),s()}),g.addEventListener("click",function(){e.quantity>1&&(e.quantity=e.quantity-1,e.wholePrice=e.quantity*e.price,i(),a(),s())});const y=document.createElement("button");y.classList.add("delete-btn"),y.textContent="DELETE",y.addEventListener("click",()=>{n.splice(h,1),a(),i(),s(),c.forEach(S=>{S.textContent=n.length,n.length===0&&(t.innerHTML='<p class="product-name" id="empty-cart">The cart is empty</p>')})}),d.appendChild(y),t.appendChild(d),document.querySelector(".checkout-form").addEventListener("submit",function(){n.splice(0,n.length),a(),i(),s(),t.innerHTML='<p class="product-name" id="empty-cart">The cart is empty</p>'});const E=parseFloat(e.wholePrice);r+=E});let u=document.querySelectorAll(".total-price-checkout");o&&(o.textContent=r),u[0].innerText=r,u[1].innerText=r}function i(){let l=0;n.forEach(r=>{const u=parseFloat(r.wholePrice);l+=u}),o&&(o.textContent=l)}function s(){localStorage.setItem("cart",JSON.stringify(n))}a(),i(),document.querySelectorAll(".addToCardBtn").forEach(l=>{l.addEventListener("click",()=>{const r=this.parentElement.parentElement.parentElement.parentElement;let u=r.querySelector(".product-photo img").getAttribute("src"),e=r.querySelector(".product-name").innerHTML,h=r.querySelector(".product-price").innerHTML.slice(1),d=r.querySelector(".product__description").innerHTML,L=Number(r.querySelector(".product-quantity .value").innerText);n.push({productName:e,productPhoto:u,productQuantity:L,productDescription:d,productPrice:h}),a(),i(),s()})}),c[0].innerText==0&&(t.innerHTML='<p class="product-name" id="empty-cart">The cart is empty</p>')});let k=document.querySelector(".searchBtn");k.addEventListener("click",function(){let t=document.getElementById("searchInput"),o=document.getElementById("searchInput").value.toLowerCase();o.trim()===""?(document.querySelector(".warning").style.display="block",t.style.border="1px solid red"):(window.location.href="/avion/product-listing.html?search="+o,document.querySelector(".warning").innerHTML.style.display="none",t.style.border="none")});let _=document.querySelector("#closeCheckoutForm"),m=document.querySelector(".checkout"),b=document.getElementById("checkout-btn");_.addEventListener("click",function(){m.style.display="none"});b.addEventListener("click",function(){m.style.display="flex",m.querySelector(".checkout__content").classList.add("animate__animated"),m.querySelector(".checkout__content").classList.add("animate__zoomIn")});let B=document.querySelector(".checkout__reset-btn");B.addEventListener("click",function(){m.style.display="none"});let T=document.querySelector(".checkout-form");T.addEventListener("submit",function(t){t.preventDefault(),m.style.display="none",M(),setTimeout(function(){f.style.display="flex",f.querySelector(".second-modal__wrapper").classList.add("animate__animated"),f.querySelector(".second-modal__wrapper").classList.add("animate__backInDown")},500)});let w=document.querySelector("#closeSecondModal"),f=document.querySelector(".second-modal");w.addEventListener("click",function(){f.style.display="none"});function M(){const t=document.querySelectorAll(".checkout input");document.querySelectorAll(".form__input").forEach(c=>{c.checked=!1}),t.forEach(c=>{c.value=""})}
